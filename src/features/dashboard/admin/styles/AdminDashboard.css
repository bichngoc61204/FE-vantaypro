
/* -------------------------------------------
 * CSS â€” uses your theme variables (var(--main-bg), --second-bg, --card-bg, --border, --tc, --ts, --mc ...)
 * Adds additional tokens for good/warn/bad/info.
 * -------------------------------------------
 */

.admin-dash{
  display:flex;
  flex-direction:column;
  gap:16px;
}

/* tokens */
:root{
  --good: #22c55e;
  --warn: #f59e0b;
  --bad: #ef4444;
  --info: #6366f1;
  --shadow: 0 10px 24px rgba(0,0,0,.08);
}

.admin-dash__top{
  background: var(--main-bg);
  border: 1px solid var(--border);
  border-radius: calc(var(--radius) + 4px);
  padding: 16px;
  box-shadow: var(--shadow);
}

.admin-dash__title{
  display:flex;
  align-items:center;
  gap:12px;
  margin-bottom: 14px;
}
.admin-dash__titleBadge{
  width:44px;height:44px;
  border-radius: 14px;
  background: var(--mc-trans);
  display:flex;align-items:center;justify-content:center;
  color: var(--mc);
  font-size: 20px;
}
.admin-dash__titleText .h1{
  font-size: 18px;
  font-weight: 700;
  color: var(--tc);
  line-height: 1.2;
}
.admin-dash__titleText .sub{
  color: var(--ts);
  font-size: 12.5px;
  margin-top: 4px;
}

.admin-dash__filters{
  border-top: 1px dashed var(--border);
  padding-top: 12px;
}

.filterRow{
  display:flex;
  flex-wrap:wrap;
  gap:12px;
  align-items:flex-end;
}
.filter{
  display:flex;
  flex-direction:column;
  gap:6px;
  min-width: 160px;
}
.filter.search{
  flex: 1;
  min-width: 220px;
}
.filterLabel{
  display:flex;
  align-items:center;
  gap:8px;
  color: var(--ts);
  font-weight: 600;
  font-size: 12px;
}
.textInput{
  height: 40px;
  border-radius: 12px;
  border: 1px solid var(--border);
  background: var(--card-bg);
  color: var(--tc);
  padding: 0 12px;
  outline: none;
}
.textInput:focus{
  border-color: var(--mc);
  box-shadow: 0 0 0 4px var(--mc-trans);
}

.selectWrap{ position:relative; }
.select{
  width:100%;
  height: 40px;
  border-radius: 12px;
  border: 1px solid var(--border);
  background: var(--card-bg);
  color: var(--tc);
  padding: 0 36px 0 12px;
  outline:none;
  appearance:none;
  font-weight: 600;
}
.select:focus{
  border-color: var(--mc);
  box-shadow: 0 0 0 4px var(--mc-trans);
}
.selectIcon{
  position:absolute;
  right: 12px;
  bottom: 12px;
  color: var(--ts);
  pointer-events:none;
}

.chip{
  height: 40px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: var(--card-bg);
  color: var(--tc);
  padding: 0 12px;
  display:inline-flex;
  align-items:center;
  gap:8px;
  cursor:pointer;
  font-weight: 700;
  transition: .15s ease;
}
.chip:hover{ transform: translateY(-1px); box-shadow: 0 8px 18px rgba(0,0,0,.08); }
.chip--on{
  background: var(--mc);
  border-color: var(--mc);
  color: var(--tw);
  box-shadow: 0 10px 18px var(--mc-trans);
}
.filterHint{
  margin-top: 10px;
  display:flex;
  gap:8px;
  flex-wrap:wrap;
}

.grid{
  display:grid;
  gap:16px;
}
.grid--kpi{
  grid-template-columns: repeat(12, 1fr);
}
.grid--kpi .card:nth-child(1){ grid-column: span 6; }
.grid--kpi .card:nth-child(2){ grid-column: span 6; }
.grid--kpi .card:nth-child(3){ grid-column: span 6; }
.grid--kpi .card:nth-child(4){ grid-column: span 6; }

.grid--main{ grid-template-columns: repeat(12, 1fr); }
.grid--main .card{ grid-column: span 4; }

.grid--trend{ grid-template-columns: repeat(12, 1fr); }
.grid--trend .card{ grid-column: span 4; }

.grid--tables{ grid-template-columns: repeat(12, 1fr); }
.grid--tables .card:nth-child(1){ grid-column: span 7; }
.grid--tables .card:nth-child(2){ grid-column: span 5; }
.grid--tables .card:nth-child(3){ grid-column: span 12; }

@media (max-width: 1280px){
  .grid--main .card, .grid--trend .card{ grid-column: span 12; }
  .grid--tables .card:nth-child(1),
  .grid--tables .card:nth-child(2){ grid-column: span 12; }
  .grid--kpi .card{ grid-column: span 12 !important; }
}
@media (max-width: 560px){
  .filter{ min-width: 100%; }
  .chip{ width: 100%; justify-content: center; }
}

.card{
  background: var(--main-bg);
  border: 1px solid var(--border);
  border-radius: calc(var(--radius) + 4px);
  box-shadow: var(--shadow);
  overflow:hidden;
}
.cardHead{
  padding: 14px 14px 12px;
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:12px;
  border-bottom: 1px solid var(--border);
  background: linear-gradient(180deg, rgba(40,203,105,.08), transparent);
}
.cardHeadLeft{ display:flex; gap:10px; align-items:flex-start; }
.cardIcon{
  width:38px;height:38px;
  border-radius: 14px;
  background: var(--card-bg);
  border: 1px solid var(--border);
  display:flex;align-items:center;justify-content:center;
  color: var(--mc);
  font-size: 18px;
}
.cardTitles{ display:flex; flex-direction:column; gap:2px; }
.cardTitle{ font-weight: 800; color: var(--tc); font-size: 14px; }
.cardSub{ color: var(--ts); font-size: 12px; }
.cardHeadRight{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
.cardBody{ padding: 14px; }

.pill{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding: 6px 10px;
  border-radius: 999px;
  font-weight: 800;
  font-size: 12px;
  border: 1px solid var(--border);
  background: var(--card-bg);
  color: var(--tc);
}
.pill--good{ border-color: rgba(34,197,94,.35); background: rgba(34,197,94,.12); color: var(--tc); }
.pill--warn{ border-color: rgba(245,158,11,.35); background: rgba(245,158,11,.14); color: var(--tc); }
.pill--bad{ border-color: rgba(239,68,68,.35); background: rgba(239,68,68,.14); color: var(--tc); }
.pill--info{ border-color: rgba(99,102,241,.35); background: rgba(99,102,241,.14); color: var(--tc); }

.kpiSplit{
  display:grid;
  grid-template-columns: 1.1fr 1fr;
  gap:14px;
}
@media (max-width: 980px){
  .kpiSplit{ grid-template-columns: 1fr; }
}
.kpiLeft{
  display:flex;
  gap:12px;
  align-items:center;
}
.kpiLegend{
  display:flex;
  flex-direction:column;
  gap:8px;
  min-width: 160px;
}
.legendRow{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
}
.legendLabel{ color: var(--ts); font-weight: 700; }
.legendValue{ font-weight: 900; color: var(--tc); }

.dot{
  width:10px;height:10px;border-radius:999px; display:inline-block;
  border: 1px solid rgba(0,0,0,.08);
}
.dot--good{ background: var(--good); }
.dot--warn{ background: var(--warn); }
.dot--bad{ background: var(--bad); }
.dot--info{ background: var(--info); }

.muted{ color: var(--ts); }
.small{ font-size: 12px; }
.ellipsis{ white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width: 220px; }

.kpiRight{ display:flex; flex-direction:column; gap:10px; }
.miniTitle{ font-weight: 900; color: var(--tc); font-size: 12px; }
.kpiFacts{
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  gap:10px;
}
.fact{
  display:flex;
  gap:10px;
  align-items:center;
  background: var(--card-bg);
  border: 1px solid var(--border);
  padding: 10px;
  border-radius: 14px;
}
.factIcon{ color: var(--mc); font-size: 16px; }
.factLabel{ color: var(--ts); font-size: 12px; font-weight: 700; }
.factValue{ font-weight: 900; color: var(--tc); }

.pipeGrid{
  display:grid;
  grid-template-columns: 1fr 1fr 1fr 1.1fr;
  gap:12px;
}
@media (max-width: 980px){
  .pipeGrid{ grid-template-columns: 1fr; }
}
.pipeStep{
  background: var(--card-bg);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 12px;
}
.pipeTop{ display:flex; justify-content:space-between; gap:8px; align-items:flex-end; }
.pipeTitle{ font-weight: 900; color: var(--tc); font-size: 12px; }
.pipeValue{ font-weight: 900; color: var(--tc); }
.pipeSub{ color: var(--ts); font-size: 12px; margin-top: 2px; }
.pipeBar{
  height: 10px;
  border-radius: 999px;
  background: rgba(0,0,0,.06);
  overflow:hidden;
  margin-top: 10px;
  border: 1px solid var(--border);
}
.pipeBarFill{
  height:100%;
  background: var(--mc);
  border-radius: 999px;
}
.pipePct{ margin-top: 8px; font-weight: 900; color: var(--tc); font-size: 12px; }
.pipeFunnel{
  background: var(--card-bg);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 12px;
}
.funnel{ width:100%; height: 140px; }
.funnelText{ fill: var(--tc); font-weight: 900; font-size: 12px; }

.qualityBox{
  background: var(--card-bg);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 12px;
  display:flex;
  flex-direction:column;
  gap:10px;
}
.qualityStat{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:10px;
}
.qualityLeft{ display:flex; align-items:center; gap:8px; }
.qualityLabel{ color: var(--ts); font-weight: 800; font-size: 12px; }
.qualityValue{ font-weight: 900; color: var(--tc); }

.chart{
  width: 100%;
  height: auto;
  border-radius: 16px;
  background: var(--card-bg);
  border: 1px solid var(--border);
}
.gridLine{
  stroke: rgba(0,0,0,.08);
  stroke-dasharray: 4 6;
}
.axisLabel{
  fill: var(--ts);
  font-size: 11px;
  font-weight: 800;
}
.axisHint{
  fill: rgba(0,0,0,.42);
  font-size: 10px;
  font-weight: 800;
}
.chartYL{
  fill: var(--ts);
  font-size: 11px;
  font-weight: 900;
}
.chartLegend{
  fill: var(--ts);
  font-weight: 900;
  font-size: 12px;
}

.donut{
  transform: rotate(-90deg);
}
.donutCenterValue{
  fill: var(--tc);
  font-size: 18px;
  font-weight: 900;
  transform: rotate(90deg);
}
.donutCenterLabel{
  fill: var(--ts);
  font-size: 11px;
  font-weight: 900;
  transform: rotate(90deg);
}

.miniBars{
  display:flex;
  gap:8px;
  align-items:flex-end;
  height: 110px;
  padding: 10px;
  background: var(--card-bg);
  border: 1px solid var(--border);
  border-radius: 16px;
}
.miniBar{
  flex:1;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:6px;
}
.miniBarLabel{
  font-size: 10px;
  color: var(--ts);
  font-weight: 900;
}
.miniBarTrack{
  width: 100%;
  height: 100%;
  border-radius: 12px;
  border: 1px solid var(--border);
  background: rgba(0,0,0,.05);
  overflow:hidden;
  display:flex;
  flex-direction:column;
  justify-content:flex-end;
}
.miniSeg{ width:100%; }
.miniSeg--good{ background: var(--good); }
.miniSeg--warn{ background: var(--warn); }
.miniSeg--bad{ background: var(--bad); }

.listCompact{
  display:flex;
  flex-direction:column;
  gap:8px;
  background: var(--card-bg);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 10px;
}
.listRow{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:10px;
}
.listLeft{
  display:flex;
  align-items:center;
  gap:8px;
  min-width:0;
}
.listRight{
  font-weight: 900;
  color: var(--tc);
}

.tableWrap{ overflow:auto; }
.table{
  border: 1px solid var(--border);
  border-radius: 16px;
  overflow:hidden;
  background: var(--card-bg);
}
.thead{
  display:flex;
  background: rgba(0,0,0,.04);
  border-bottom: 1px solid var(--border);
}
.th{
  padding: 10px 12px;
  font-size: 12px;
  font-weight: 900;
  color: var(--ts);
}
.tbody .tr{
  display:flex;
  border-bottom: 1px solid rgba(0,0,0,.06);
}
.tbody .tr:last-child{ border-bottom:none; }
.td{
  padding: 10px 12px;
  color: var(--tc);
  display:flex;
  align-items:center;
  min-width:0;
}
.t-right{ justify-content:flex-end; text-align:right; }
.emptyRow{
  padding: 14px;
  color: var(--ts);
  font-weight: 700;
}

.cellUser{
  display:flex;
  align-items:center;
  gap:10px;
  min-width:0;
}
.avatar{
  width: 34px;
  height: 34px;
  border-radius: 14px;
  background: var(--mc-trans);
  border: 1px solid rgba(40,203,105,.35);
  color: var(--mc);
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight: 900;
  flex: 0 0 auto;
}
.cellUserText{ min-width:0; display:flex; flex-direction:column; gap:4px; }
.cellUserName{ font-weight: 900; color: var(--tc); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width: 360px; }
.cellUserSub{ display:flex; gap:6px; flex-wrap:wrap; }

.cellMeta{ display:flex; gap:6px; flex-wrap:wrap; }

.tag{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding: 4px 8px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: rgba(0,0,0,.03);
  color: var(--tc);
  font-size: 12px;
  font-weight: 800;
}
.tag--muted{ color: var(--ts); background: rgba(0,0,0,.02); }
.tag--info{ background: rgba(99,102,241,.12); border-color: rgba(99,102,241,.25); }
.bad{ color: var(--bad); }
.warn{ color: var(--warn); }

.spark{
  background: rgba(0,0,0,.02);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 2px;
}

.anomalyList{
  display:flex;
  flex-direction:column;
  gap:10px;
}
.anomalyItem{
  display:flex;
  gap:10px;
  padding: 12px;
  border-radius: 16px;
  border: 1px solid var(--border);
  background: var(--card-bg);
  align-items:flex-start;
}
.sev{
  font-weight: 900;
  font-size: 12px;
  padding: 6px 8px;
  border-radius: 999px;
  border: 1px solid var(--border);
  flex: 0 0 auto;
}
.sev--high{ background: rgba(239,68,68,.14); border-color: rgba(239,68,68,.25); color: var(--tc); }
.sev--medium{ background: rgba(245,158,11,.14); border-color: rgba(245,158,11,.25); color: var(--tc); }
.sev--low{ background: rgba(34,197,94,.10); border-color: rgba(34,197,94,.22); color: var(--tc); }

.anomalyMain{ flex: 1; min-width:0; }
.anomalyTitle{ font-weight: 900; color: var(--tc); }
.anomalyDetail{ color: var(--ts); margin-top: 4px; }
.anomalyMeta{ display:flex; gap:6px; flex-wrap:wrap; margin-top: 8px; }
.emptyBox{
  padding: 14px;
  border-radius: 16px;
  border: 1px dashed var(--border);
  color: var(--ts);
  font-weight: 800;
  background: rgba(0,0,0,.02);
}

.btn{
  border: 1px solid var(--border);
  background: var(--main-bg);
  color: var(--tc);
  border-radius: 12px;
  height: 36px;
  padding: 0 12px;
  font-weight: 900;
  cursor:pointer;
  transition: .15s ease;
}
.btn:hover{ transform: translateY(-1px); box-shadow: 0 10px 18px rgba(0,0,0,.08); }
.btn--ghost{ background: transparent; }
.footerNote{
  display:flex;
  justify-content:center;
  padding: 6px 0 0;
}

/* Heatmap */
.heatmapWrap{
  display:flex;
  flex-direction:column;
  gap:10px;
}
.heatmapGrid{
  display:grid;
  gap:8px;
  padding: 10px;
  background: var(--card-bg);
  border: 1px solid var(--border);
  border-radius: 16px;
}
.heatCell{
  height: 40px;
  border-radius: 12px;
  border: 1px solid rgba(0,0,0,.06);
  display:flex;
  align-items:flex-end;
  justify-content:flex-end;
  padding: 6px;
  position:relative;
  overflow:hidden;
}
.heatCell--empty{
  background: rgba(0,0,0,.02);
  border-style: dashed;
}
.heatLabel{
  font-size: 10px;
  font-weight: 900;
  color: rgba(0,0,0,.55);
}
html.dark .heatLabel{ color: rgba(255,255,255,.72); }

.heat--1{ background: rgba(34,197,94,.14); border-color: rgba(34,197,94,.18); }
.heat--2{ background: rgba(245,158,11,.14); border-color: rgba(245,158,11,.18); }
.heat--3{ background: rgba(239,68,68,.14); border-color: rgba(239,68,68,.18); }
.heat--4{ background: rgba(239,68,68,.28); border-color: rgba(239,68,68,.32); }

.heatLegend{
  display:flex;
  align-items:center;
  gap:8px;
  justify-content:center;
}
.heatDot{
  width: 14px; height: 14px;
  border-radius: 6px;
  border: 1px solid rgba(0,0,0,.08);
}
.heatDot--1{ background: rgba(34,197,94,.14); }
.heatDot--2{ background: rgba(245,158,11,.14); }
.heatDot--3{ background: rgba(239,68,68,.14); }
.heatDot--4{ background: rgba(239,68,68,.28); }
